# å¾®ä¿¡å°ç¨‹åº B2B ç®¡ç†åå°å¼€å‘å¯¹è¯æ€»ç»“

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Element Plus çš„ç®¡ç†åå°ç³»ç»Ÿï¼Œé…åˆ Spring Boot åç«¯ï¼Œç”¨äºç®¡ç†å®‹å®¶çººç»‡çš„å¾®ä¿¡å°ç¨‹åº B2B ä¸šåŠ¡ã€‚

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- Vue 3 (Composition API)
- Element Plus UI æ¡†æ¶
- Vue Router è·¯ç”±ç®¡ç†
- Pinia çŠ¶æ€ç®¡ç†
- ECharts æ•°æ®å¯è§†åŒ–
- Axios HTTP è¯·æ±‚

### åç«¯
- Spring Boot 3.x
- MyBatis-Plus ORM
- MySQL æ•°æ®åº“
- JWT è®¤è¯

---

## ä¼šè¯ 1ï¼šè¯„è®ºç®¡ç†åˆ é™¤åŠŸèƒ½ä¿®å¤

### é—®é¢˜
ç”¨æˆ·åé¦ˆåˆ é™¤è¯„è®ºåŠŸèƒ½æ— æ•ˆ

### åŸå› 
åœ¨ `AdminCommentController.java` ä¸­ï¼Œæ‰‹åŠ¨è®¾ç½® `deleted` å­—æ®µä¸º `(byte) 1` ä¸å®ä½“ç±»çš„ `Integer` ç±»å‹ä¸å…¼å®¹ï¼Œä¸”åº”è¯¥ä½¿ç”¨ MyBatis-Plus çš„è‡ªåŠ¨è½¯åˆ é™¤åŠŸèƒ½ã€‚

### è§£å†³æ–¹æ¡ˆ
1. **ä¿®å¤ç±»å‹é”™è¯¯**ï¼šå°† `(byte) 1` æ”¹ä¸º `1`
2. **ä½¿ç”¨è‡ªåŠ¨è½¯åˆ é™¤**ï¼š
   - å•ä¸ªåˆ é™¤ï¼šä½¿ç”¨ `commentMapper.deleteById(id)`
   - æ‰¹é‡åˆ é™¤ï¼šä½¿ç”¨ `commentMapper.deleteBatchIds(ids)`

### ä¿®æ”¹æ–‡ä»¶
- `/mnt/c/Users/Mayn/WeChatProjects/miniprogram-3-backend/src/main/java/com/songjia/textile/controller/AdminCommentController.java`

---

## ä¼šè¯ 2ï¼šæ”¶è—ç®¡ç†æ¨¡å—å®ç°

### éœ€æ±‚
å°†"è¯¢ä»·ç®¡ç†"æ”¹ä¸º"æ”¶è—ç®¡ç†"ï¼Œå±•ç¤ºæ”¶è—çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å•†å“è¯¦æƒ…ã€‚

### å®ç°å†…å®¹

#### åç«¯å®ç°

**1. Favorite å®ä½“ç±»æ›´æ–°** (`Favorite.java`)
```java
// æ·»åŠ å…³è”å­—æ®µç”¨äºå‰ç«¯æ˜¾ç¤º
@TableField(exist = false)
private String productName;
@TableField(exist = false)
private String productImage;
@TableField(exist = false)
private Double productPrice;
@TableField(exist = false)
private Integer productStock;
@TableField(exist = false)
private Boolean productStatus;
@TableField(exist = false)
private String userName;
@TableField(exist = false)
private String userPhone;
```

**2. AdminFavoriteController æ§åˆ¶å™¨**
- `getFavoriteList()` - åˆ†é¡µè·å–æ”¶è—åˆ—è¡¨ï¼Œè”è¡¨æŸ¥è¯¢å•†å“è¯¦ç»†ä¿¡æ¯
- `getFavoriteDetail()` - è·å–å•æ¡æ”¶è—è¯¦æƒ…
- `deleteFavorite()` - è½¯åˆ é™¤æ”¶è—
- `batchDeleteFavorites()` - æ‰¹é‡è½¯åˆ é™¤
- `getFavoriteStatistics()` - è·å–æ”¶è—ç»Ÿè®¡

**å…³é”®å®ç° - å¡«å……å•†å“è¯¦ç»†ä¿¡æ¯**ï¼š
```java
for (Favorite favorite : favorites.getRecords()) {
    Product product = productMapper.selectById(favorite.getProductId());
    if (product != null) {
        favorite.setProductName(product.getName());
        favorite.setProductImage(product.getMainImage());
        favorite.setProductPrice(product.getWholesalePrice() != null ?
            product.getWholesalePrice() : product.getRetailPrice());
        favorite.setProductStock(product.getStock());
        favorite.setProductStatus(product.getStatus());
    }
}
```

#### å‰ç«¯å®ç°

**1. API å°è£…** (`/api/favorite.js`)
- `getFavoriteList()` - è·å–æ”¶è—åˆ—è¡¨
- `getFavoriteDetail()` - è·å–æ”¶è—è¯¦æƒ…
- `deleteFavorite()` - åˆ é™¤æ”¶è—
- `batchDeleteFavorites()` - æ‰¹é‡åˆ é™¤
- `getFavoriteStatistics()` - è·å–ç»Ÿè®¡

**2. FavoriteList.vue é¡µé¢ç»„ä»¶**

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- æœç´¢ç­›é€‰ï¼šæŒ‰ç”¨æˆ·IDã€å•†å“IDç­›é€‰
- åˆ—è¡¨å±•ç¤ºï¼šç”¨æˆ·IDã€å•†å“IDã€å•†å“å›¾ç‰‡ã€å•†å“åç§°ã€å•†å“çŠ¶æ€ã€æ”¶è—æ—¶é—´
- è¯¦æƒ…æŸ¥çœ‹ï¼šå¼¹çª—æ˜¾ç¤ºæ”¶è—å®Œæ•´ä¿¡æ¯å’Œå•†å“è¯¦ç»†ä¿¡æ¯
- æ‰¹é‡æ“ä½œï¼šæ”¯æŒæ‰¹é‡åˆ é™¤
- åˆ†é¡µåŠŸèƒ½ï¼šæ”¯æŒåˆ†é¡µå’Œæ¯é¡µæ•°é‡è°ƒæ•´
- å•†å“çŠ¶æ€ï¼šä½¿ç”¨ tag æ˜¾ç¤ºä¸Šæ¶/ä¸‹æ¶çŠ¶æ€
- åˆ é™¤å•†å“å¤„ç†ï¼šå•†å“å·²è¢«åˆ é™¤æ—¶æ˜¾ç¤ºå‹å¥½æç¤º

**3. å¯¼èˆªèœå•æ›´æ–°** (`Layout.vue`)
- å°†"è¯¢ä»·ç®¡ç†"æ”¹ä¸º"æ”¶è—ç®¡ç†"
- ä½¿ç”¨ Star å›¾æ ‡

### å­—æ®µæ˜ å°„ä¿®å¤

**é—®é¢˜**ï¼šProduct å®ä½“å­—æ®µåç§°ä¸åŒ¹é…
- å›¾ç‰‡å­—æ®µæ˜¯ `mainImage` ä¸æ˜¯ `imageUrl`
- ä»·æ ¼ä½¿ç”¨ `wholesalePrice` å’Œ `retailPrice`ï¼Œä¸æ˜¯ `price`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```java
favorite.setProductImage(product.getMainImage());
favorite.setProductPrice(product.getWholesalePrice() != null ?
    product.getWholesalePrice() : product.getRetailPrice());
```

### ä¿®æ”¹æ–‡ä»¶
- åç«¯ï¼š
  - `AdminFavoriteController.java`ï¼ˆæ–°å»ºï¼‰
  - `Favorite.java`ï¼ˆæ›´æ–°ï¼‰
- å‰ç«¯ï¼š
  - `/api/favorite.js`ï¼ˆæ–°å»ºï¼‰
  - `/views/favorite/FavoriteList.vue`ï¼ˆæ–°å»ºï¼‰
  - `/router/index.js`ï¼ˆæ›´æ–°ï¼‰
  - `/views/Layout.vue`ï¼ˆæ›´æ–°ï¼‰

---

## ä¼šè¯ 3ï¼šåˆ—è¡¨å±•ç¤ºä¼˜åŒ–

### éœ€æ±‚
ç§»é™¤éƒ¨åˆ†åˆ—è¡¨ä¸­ä¸å¿…è¦çš„ ID åˆ—å’Œå…¶ä»–åˆ—

### ä¿®æ”¹å†…å®¹

**1. æ”¶è—ç®¡ç†** (`FavoriteList.vue`)
- âŒ ç§»é™¤ï¼šID åˆ—
- âŒ ç§»é™¤ï¼šå•†å“ä»·æ ¼åˆ—
- âŒ ç§»é™¤ï¼šåº“å­˜åˆ—
- âœ… ä¿ç•™ï¼šç”¨æˆ·IDã€å•†å“IDã€å•†å“å›¾ç‰‡ã€å•†å“åç§°ã€å•†å“çŠ¶æ€ã€æ”¶è—æ—¶é—´ã€æ“ä½œ

**2. è¯„è®ºç®¡ç†** (`CommentList.vue`)
- âŒ ç§»é™¤ï¼šID åˆ—
- âœ… ä¿ç•™ï¼šå•†å“IDã€ç”¨æˆ·IDã€è¯„è®ºå†…å®¹ã€è¯„åˆ†ã€å•†å®¶å›å¤ã€å›å¤æ—¶é—´ã€çŠ¶æ€ã€åˆ›å»ºæ—¶é—´ã€æ“ä½œ

**3. è½®æ’­å›¾ç®¡ç†** (`BannerList.vue`)
- âŒ ç§»é™¤ï¼šID åˆ—
- âœ… ä¿ç•™ï¼šå›¾ç‰‡ã€æ ‡é¢˜ã€ç±»å‹ã€é“¾æ¥ç±»å‹ã€è·³è½¬é“¾æ¥ã€æ’åºã€çŠ¶æ€ã€åˆ›å»ºæ—¶é—´ã€æ“ä½œ

### ä¿®æ”¹æ–‡ä»¶
- `/views/favorite/FavoriteList.vue`
- `/views/comment/CommentList.vue`
- `/views/banner/BannerList.vue`

---

## ä¼šè¯ 4ï¼šç”¨æˆ·ç®¡ç†æ¨¡å—å®ç°

### éœ€æ±‚
å®ç°ç®€æ´çš„ç”¨æˆ·ç®¡ç†ï¼Œå±•ç¤ºç”¨æˆ·æ€»æ•°ã€OpenIDã€åˆ›å»ºæ—¶é—´å’Œæœ€åç™»å½•æ—¶é—´ã€‚

### å®ç°å†…å®¹

#### åç«¯å®ç°

**AdminUserController æ§åˆ¶å™¨**
- `getUserList()` - åˆ†é¡µè·å–ç”¨æˆ·åˆ—è¡¨ï¼Œæ”¯æŒ OpenID æ¨¡ç³Šæœç´¢
- `getUserStatistics()` - è·å–ç”¨æˆ·æ€»æ•°ç»Ÿè®¡

#### å‰ç«¯å®ç°

**1. API å°è£…** (`/api/user.js`)
- `getUserList()` - è·å–ç”¨æˆ·åˆ—è¡¨
- `getUserStatistics()` - è·å–ç”¨æˆ·ç»Ÿè®¡

**2. UserList.vue é¡µé¢ç»„ä»¶**

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- **ç»Ÿè®¡å¡ç‰‡**ï¼šé¡¶éƒ¨æ˜¾ç¤ºç”¨æˆ·æ€»æ•°ï¼Œä½¿ç”¨æ¸å˜èƒŒæ™¯å’Œå›¾æ ‡
- **æœç´¢åŠŸèƒ½**ï¼šæ”¯æŒæŒ‰ OpenID æ¨¡ç³Šæœç´¢
- **åˆ—è¡¨å±•ç¤º**ï¼ˆç®€åŒ–ï¼‰ï¼š
  - OpenIDï¼ˆå®Œæ•´æ˜¾ç¤ºï¼‰
  - åˆ›å»ºæ—¶é—´
  - æœ€åç™»å½•æ—¶é—´ï¼ˆæœªç™»å½•æ˜¾ç¤º"æœªç™»å½•"ï¼‰
- **åˆ†é¡µåŠŸèƒ½**ï¼šæ”¯æŒåˆ†é¡µå’Œæ¯é¡µæ•°é‡è°ƒæ•´

### ä¿®æ”¹æ–‡ä»¶
- åç«¯ï¼š
  - `AdminUserController.java`ï¼ˆæ–°å»ºï¼‰
- å‰ç«¯ï¼š
  - `/api/user.js`ï¼ˆæ–°å»ºï¼‰
  - `/views/user/UserList.vue`ï¼ˆæ–°å»ºï¼‰
  - `/router/index.js`ï¼ˆæ›´æ–°ï¼‰

---

## ä¼šè¯ 5ï¼šæ•°æ®åˆ†ææ¨¡å—å®ç°

### éœ€æ±‚
å¼•å…¥ EChartsï¼Œè®¾è®¡ç¾è§‚çš„æ•°æ®ç»Ÿè®¡åˆ†æé¡µé¢ï¼Œå±•ç¤ºæ”¶è—é‡ã€æµè§ˆé‡ç­‰å„ç§æ•°æ®ã€‚

### æŠ€æœ¯é€‰å‹
- **ECharts 5.x** - ä¸“ä¸šçš„æ•°æ®å¯è§†åŒ–åº“

### å®ç°å†…å®¹

#### åç«¯å®ç°

**AdminAnalyticsController æ§åˆ¶å™¨**

**æ¥å£åˆ—è¡¨**ï¼š
1. `getOverview()` - æ¦‚è§ˆç»Ÿè®¡
   - å•†å“æ€»æ•°ã€ä¸Šæ¶å•†å“æ•°
   - ç”¨æˆ·æ€»æ•°
   - æ”¶è—æ€»æ•°
   - è¯„è®ºæ€»æ•°
   - è½®æ’­å›¾æ€»æ•°

2. `getProductCategory()` - å•†å“åˆ†ç±»åˆ†å¸ƒ

3. `getTopProductsByFavorite()` - çƒ­é—¨å•†å“ TOP 10ï¼ˆæŒ‰æ”¶è—æ•°ï¼‰

4. `getTopProductsByView()` - çƒ­é—¨å•†å“ TOP 10ï¼ˆæŒ‰æµè§ˆæ•°ï¼‰

5. `getProductStatus()` - å•†å“çŠ¶æ€åˆ†å¸ƒï¼ˆä¸Šæ¶/ä¸‹æ¶ï¼‰

6. `getCommentRating()` - è¯„è®ºè¯„åˆ†åˆ†å¸ƒï¼ˆ1-5æ˜Ÿï¼‰

#### å‰ç«¯å®ç°

**1. ä¾èµ–å®‰è£…**
```bash
npm install echarts
```

**2. API å°è£…** (`/api/analytics.js`)
- `getOverview()` - è·å–æ¦‚è§ˆç»Ÿè®¡
- `getProductCategory()` - è·å–å•†å“åˆ†ç±»åˆ†å¸ƒ
- `getTopProductsByFavorite()` - è·å–çƒ­é—¨å•†å“ï¼ˆæ”¶è—ï¼‰
- `getTopProductsByView()` - è·å–çƒ­é—¨å•†å“ï¼ˆæµè§ˆï¼‰
- `getProductStatus()` - è·å–å•†å“çŠ¶æ€åˆ†å¸ƒ
- `getCommentRating()` - è·å–è¯„è®ºè¯„åˆ†åˆ†å¸ƒ

**3. Analytics.vue é¡µé¢ç»„ä»¶**

#### é¡µé¢å¸ƒå±€

**ğŸ“Š æ¦‚è§ˆå¡ç‰‡åŒºåŸŸ**ï¼ˆ4ä¸ªæ¸å˜å¡ç‰‡ï¼‰

1. **å•†å“æ€»æ•°å¡ç‰‡** - ç´«è‰²æ¸å˜ (#667eea â†’ #764ba2)
   - å›¾æ ‡ï¼šGoods
   - ä¸»æ•°æ®ï¼šå•†å“æ€»æ•°
   - å‰¯æ•°æ®ï¼šä¸Šæ¶å•†å“æ•°

2. **ç”¨æˆ·æ€»æ•°å¡ç‰‡** - ç²‰çº¢æ¸å˜ (#f093fb â†’ #f5576c)
   - å›¾æ ‡ï¼šUser
   - ä¸»æ•°æ®ï¼šç”¨æˆ·æ€»æ•°
   - å‰¯æ•°æ®ï¼šæ³¨å†Œç”¨æˆ·

3. **æ”¶è—æ€»æ•°å¡ç‰‡** - è“è‰²æ¸å˜ (#4facfe â†’ #00f2fe)
   - å›¾æ ‡ï¼šStar
   - ä¸»æ•°æ®ï¼šæ”¶è—æ€»æ•°
   - å‰¯æ•°æ®ï¼šç”¨æˆ·æ”¶è—

4. **è¯„è®ºæ€»æ•°å¡ç‰‡** - ç»¿è‰²æ¸å˜ (#43e97b â†’ #38f9d7)
   - å›¾æ ‡ï¼šChatDotRound
   - ä¸»æ•°æ®ï¼šè¯„è®ºæ€»æ•°
   - å‰¯æ•°æ®ï¼šç”¨æˆ·è¯„è®º

**ğŸ“ˆ å›¾è¡¨å±•ç¤ºåŒºåŸŸ**

**ç¬¬ä¸€è¡Œ**ï¼ˆä¸¤ä¸ªå›¾è¡¨ï¼‰

1. **å•†å“çŠ¶æ€åˆ†å¸ƒ** - ç¯å½¢é¥¼å›¾
   - ç±»å‹ï¼šPie Chartï¼ˆç¯å½¢ï¼‰
   - æ•°æ®ï¼šä¸Šæ¶å•†å“ vs ä¸‹æ¶å•†å“
   - é¢œè‰²ï¼š
     - ä¸Šæ¶ï¼šç»¿è‰² (#67C23A)
     - ä¸‹æ¶ï¼šçº¢è‰² (#F56C6C)
   - ç‰¹æ€§ï¼šé¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†æ•°æ®å’Œç™¾åˆ†æ¯”

2. **è¯„è®ºè¯„åˆ†åˆ†å¸ƒ** - æŸ±çŠ¶å›¾
   - ç±»å‹ï¼šBar Chartï¼ˆå‚ç›´ï¼‰
   - æ•°æ®ï¼š1æ˜Ÿåˆ°5æ˜Ÿçš„è¯„è®ºæ•°é‡
   - é¢œè‰²ç¼–ç ï¼š
     - 1æ˜Ÿï¼šçº¢è‰² (#F56C6C)
     - 2æ˜Ÿï¼šæ©™è‰² (#E6A23C)
     - 3æ˜Ÿï¼šç°è‰² (#909399)
     - 4æ˜Ÿï¼šè“è‰² (#409EFF)
     - 5æ˜Ÿï¼šç»¿è‰² (#67C23A)

**ç¬¬äºŒè¡Œ**ï¼ˆä¸¤ä¸ªå›¾è¡¨ï¼‰

3. **çƒ­é—¨å•†å“ TOP 10ï¼ˆæŒ‰æ”¶è—æ•°ï¼‰** - æ¨ªå‘æŸ±çŠ¶å›¾
   - ç±»å‹ï¼šHorizontal Bar Chart
   - æ•°æ®ï¼šæ”¶è—æ•°æœ€å¤šçš„å‰10ä¸ªå•†å“
   - é¢œè‰²ï¼šè“è‰²æ¸å˜ (#4facfe â†’ #00f2fe)
   - ç‰¹æ€§ï¼šå•†å“åç§°è¿‡é•¿è‡ªåŠ¨æˆªæ–­ï¼ˆè¶…è¿‡15å­—ç¬¦æ˜¾ç¤ºçœç•¥å·ï¼‰

4. **çƒ­é—¨å•†å“ TOP 10ï¼ˆæŒ‰æµè§ˆæ•°ï¼‰** - æ¨ªå‘æŸ±çŠ¶å›¾
   - ç±»å‹ï¼šHorizontal Bar Chart
   - æ•°æ®ï¼šæµè§ˆæ•°æœ€å¤šçš„å‰10ä¸ªå•†å“
   - é¢œè‰²ï¼šç²‰è‰²æ¸å˜ (#f093fb â†’ #f5576c)
   - ç‰¹æ€§ï¼šå•†å“åç§°è¿‡é•¿è‡ªåŠ¨æˆªæ–­

### è®¾è®¡ç‰¹è‰²

**1. è§†è§‰è®¾è®¡**
- æ¸å˜è‰²å¡ç‰‡è®¾è®¡ï¼Œæ¯ä¸ªæ¨¡å—ä½¿ç”¨ä¸åŒé…è‰²
- åœ†è§’è®¾è®¡ï¼ˆ16pxï¼‰å¢åŠ ç°ä»£æ„Ÿ
- é˜´å½±æ•ˆæœè¥é€ å±‚æ¬¡æ„Ÿ
- å›¾æ ‡ + æ•°æ®çš„ç»„åˆå±•ç¤º

**2. äº¤äº’æ•ˆæœ**
- å¡ç‰‡æ‚¬åœæŠ¬å‡æ•ˆæœï¼ˆtranslateY -4pxï¼‰
- æ‚¬åœæ—¶é˜´å½±åŠ æ·±
- å›¾è¡¨æ”¯æŒäº¤äº’å¼ tooltip
- å“åº”å¼å¸ƒå±€ï¼Œè‡ªé€‚åº”ä¸åŒå±å¹•

**3. æŠ€æœ¯å®ç°**
- ECharts è‡ªåŠ¨è°ƒæ•´å¤§å°
- çª—å£ resize äº‹ä»¶ç›‘å¬
- ç»„ä»¶å¸è½½æ—¶é”€æ¯å›¾è¡¨å®ä¾‹
- å¼‚æ­¥æ•°æ®åŠ è½½
- é”™è¯¯å¤„ç†æœºåˆ¶

**4. æ€§èƒ½ä¼˜åŒ–**
- æŒ‰éœ€å¼•å…¥ ECharts
- å›¾è¡¨å®ä¾‹å¤ç”¨
- äº‹ä»¶ç›‘å¬å™¨æ¸…ç†
- é¿å…å†…å­˜æ³„æ¼

### ECharts é…ç½®ç¤ºä¾‹

**ç¯å½¢é¥¼å›¾é…ç½®**ï¼š
```javascript
{
  tooltip: {
    trigger: 'item',
    formatter: '{b}: {c} ({d}%)'
  },
  series: [{
    type: 'pie',
    radius: ['40%', '70%'],
    itemStyle: {
      borderRadius: 10,
      borderColor: '#fff',
      borderWidth: 2
    }
  }]
}
```

**æ¨ªå‘æŸ±çŠ¶å›¾é…ç½®**ï¼š
```javascript
{
  xAxis: { type: 'value' },
  yAxis: {
    type: 'category',
    data: names,
    axisLabel: {
      formatter: function(value) {
        return value.length > 15 ? value.substring(0, 15) + '...' : value
      }
    }
  },
  series: [{
    type: 'bar',
    itemStyle: {
      color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [
        { offset: 0, color: '#4facfe' },
        { offset: 1, color: '#00f2fe' }
      ])
    }
  }]
}
```

### ä¿®æ”¹æ–‡ä»¶
- åç«¯ï¼š
  - `AdminAnalyticsController.java`ï¼ˆæ–°å»ºï¼‰
- å‰ç«¯ï¼š
  - `/api/analytics.js`ï¼ˆæ–°å»ºï¼‰
  - `/views/Analytics.vue`ï¼ˆæ–°å»ºï¼‰
  - `/router/index.js`ï¼ˆæ›´æ–°ï¼‰
  - `package.json`ï¼ˆæ·»åŠ  echarts ä¾èµ–ï¼‰

---

## å®Œæ•´åŠŸèƒ½æ¨¡å—æ€»ç»“

### âœ… å·²å®Œæˆæ¨¡å—

1. **è½®æ’­å›¾ç®¡ç†**
   - åˆ—è¡¨å±•ç¤ºï¼ˆç­›é€‰ã€åˆ†é¡µï¼‰
   - æ·»åŠ /ç¼–è¾‘è½®æ’­å›¾
   - åˆ é™¤/æ‰¹é‡åˆ é™¤
   - çŠ¶æ€åˆ‡æ¢
   - æ’åºè°ƒæ•´
   - ç±»å‹ï¼šé¦–é¡µè½®æ’­ã€å…¬å¸é£é‡‡

2. **è¯„è®ºç®¡ç†**
   - åˆ—è¡¨å±•ç¤ºï¼ˆç­›é€‰ã€åˆ†é¡µï¼‰
   - æŸ¥çœ‹è¯„è®ºè¯¦æƒ…
   - å•†å®¶å›å¤åŠŸèƒ½
   - åˆ é™¤/æ‰¹é‡åˆ é™¤ï¼ˆè½¯åˆ é™¤ï¼‰
   - çŠ¶æ€åˆ‡æ¢ï¼ˆæ˜¾ç¤º/éšè—ï¼‰
   - è¯„åˆ†å±•ç¤ºï¼ˆ1-5æ˜Ÿï¼‰

3. **æ”¶è—ç®¡ç†**
   - åˆ—è¡¨å±•ç¤ºï¼ˆç­›é€‰ã€åˆ†é¡µï¼‰
   - æŸ¥çœ‹æ”¶è—è¯¦æƒ…ï¼ˆå«å•†å“ä¿¡æ¯ï¼‰
   - åˆ é™¤/æ‰¹é‡åˆ é™¤ï¼ˆè½¯åˆ é™¤ï¼‰
   - å•†å“çŠ¶æ€å±•ç¤º
   - å•†å“å·²åˆ é™¤æç¤º

4. **ç”¨æˆ·ç®¡ç†**
   - ç”¨æˆ·æ€»æ•°ç»Ÿè®¡
   - åˆ—è¡¨å±•ç¤ºï¼ˆOpenIDã€åˆ›å»ºæ—¶é—´ã€æœ€åç™»å½•æ—¶é—´ï¼‰
   - OpenID æœç´¢
   - åˆ†é¡µåŠŸèƒ½

5. **æ•°æ®åˆ†æ**
   - æ¦‚è§ˆç»Ÿè®¡å¡ç‰‡ï¼ˆå•†å“ã€ç”¨æˆ·ã€æ”¶è—ã€è¯„è®ºï¼‰
   - å•†å“çŠ¶æ€åˆ†å¸ƒï¼ˆç¯å½¢é¥¼å›¾ï¼‰
   - è¯„è®ºè¯„åˆ†åˆ†å¸ƒï¼ˆæŸ±çŠ¶å›¾ï¼‰
   - çƒ­é—¨å•†å“ TOP 10 - æ”¶è—ï¼ˆæ¨ªå‘æŸ±çŠ¶å›¾ï¼‰
   - çƒ­é—¨å•†å“ TOP 10 - æµè§ˆï¼ˆæ¨ªå‘æŸ±çŠ¶å›¾ï¼‰

### ğŸ”§ å·²ä¿®å¤é—®é¢˜

1. **è¯„è®ºåˆ é™¤åŠŸèƒ½ä¿®å¤**
   - ç±»å‹è½¬æ¢é”™è¯¯ä¿®å¤
   - ä½¿ç”¨ MyBatis-Plus è‡ªåŠ¨è½¯åˆ é™¤

2. **æ”¶è—ç®¡ç†å­—æ®µæ˜ å°„ä¿®å¤**
   - Product å­—æ®µåç§°é€‚é…
   - ä»·æ ¼å­—æ®µé€»è¾‘å¤„ç†

3. **åˆ—è¡¨å±•ç¤ºä¼˜åŒ–**
   - ç§»é™¤ä¸å¿…è¦çš„ ID åˆ—
   - ç®€åŒ–å±•ç¤ºå†…å®¹

---

## é¡¹ç›®æŠ€æœ¯äº®ç‚¹

### åç«¯æŠ€æœ¯äº®ç‚¹

1. **MyBatis-Plus è½¯åˆ é™¤**
   - ä½¿ç”¨ `@TableLogic` æ³¨è§£
   - è‡ªåŠ¨å¤„ç†è½¯åˆ é™¤é€»è¾‘
   - æŸ¥è¯¢æ—¶è‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤æ•°æ®

2. **æ•°æ®å…³è”æŸ¥è¯¢**
   - æ‰‹åŠ¨å¡«å……å…³è”æ•°æ®
   - é¿å… N+1 æŸ¥è¯¢é—®é¢˜
   - ä½¿ç”¨ `@TableField(exist = false)` å®šä¹‰è™šæ‹Ÿå­—æ®µ

3. **ç»Ÿä¸€è¿”å›æ ¼å¼**
   - Result ç»Ÿä¸€å°è£…
   - ç»Ÿä¸€é”™è¯¯å¤„ç†
   - æ—¥å¿—è®°å½•

### å‰ç«¯æŠ€æœ¯äº®ç‚¹

1. **Vue 3 Composition API**
   - `<script setup>` è¯­æ³•
   - reactive/ref å“åº”å¼æ•°æ®
   - ç”Ÿå‘½å‘¨æœŸé’©å­

2. **Element Plus ç»„ä»¶åº“**
   - è¡¨æ ¼ã€è¡¨å•ã€å¯¹è¯æ¡†ç­‰ç»„ä»¶
   - å›¾æ ‡ç³»ç»Ÿ
   - æ¶ˆæ¯æç¤º

3. **ECharts æ•°æ®å¯è§†åŒ–**
   - å“åº”å¼å›¾è¡¨
   - æ¸å˜è‰²é…ç½®
   - äº¤äº’å¼ tooltip

4. **è·¯ç”±ç®¡ç†**
   - è·¯ç”±å®ˆå«
   - æƒé™æ§åˆ¶
   - åŠ¨æ€è·¯ç”±

5. **çŠ¶æ€ç®¡ç†**
   - Pinia store
   - ç”¨æˆ·ä¿¡æ¯ç®¡ç†
   - ç™»å½•çŠ¶æ€æŒä¹…åŒ–

---

## æ•°æ®åº“è¡¨ç»“æ„

### ä¸»è¦è¡¨

1. **products** - å•†å“è¡¨
   - å­—æ®µï¼šid, name, mainImage, price, status, viewCount, favoriteCount ç­‰

2. **users** - ç”¨æˆ·è¡¨
   - å­—æ®µï¼šid, openid, nickname, avatarUrl, createdAt, lastLoginAt ç­‰

3. **favorites** - æ”¶è—è¡¨
   - å­—æ®µï¼šid, userId, productId, createdAt, deleted

4. **comments** - è¯„è®ºè¡¨
   - å­—æ®µï¼šid, userId, productId, content, rating, adminReply, replyTime, status, deleted

5. **banners** - è½®æ’­å›¾è¡¨
   - å­—æ®µï¼šid, type, title, imageUrl, linkUrl, linkType, sortOrder, status

6. **categories** - åˆ†ç±»è¡¨

7. **admins** - ç®¡ç†å‘˜è¡¨

---

## API æ¥å£æ–‡æ¡£

### è¯„è®ºç®¡ç† API

**åŸºç¡€è·¯å¾„**: `/admin/comment`

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/list` | GET | è·å–è¯„è®ºåˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰ |
| `/detail/{id}` | GET | è·å–è¯„è®ºè¯¦æƒ… |
| `/reply/{id}` | PUT | å›å¤è¯„è®º |
| `/delete/{id}` | DELETE | åˆ é™¤è¯„è®º |
| `/batch-delete` | DELETE | æ‰¹é‡åˆ é™¤è¯„è®º |
| `/status/{id}` | PUT | æ›´æ–°è¯„è®ºçŠ¶æ€ |

### æ”¶è—ç®¡ç† API

**åŸºç¡€è·¯å¾„**: `/admin/favorite`

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/list` | GET | è·å–æ”¶è—åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰ |
| `/detail/{id}` | GET | è·å–æ”¶è—è¯¦æƒ… |
| `/delete/{id}` | DELETE | åˆ é™¤æ”¶è— |
| `/batch-delete` | DELETE | æ‰¹é‡åˆ é™¤æ”¶è— |
| `/statistics` | GET | è·å–æ”¶è—ç»Ÿè®¡ |

### ç”¨æˆ·ç®¡ç† API

**åŸºç¡€è·¯å¾„**: `/admin/user`

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/list` | GET | è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰ |
| `/statistics` | GET | è·å–ç”¨æˆ·ç»Ÿè®¡ |

### æ•°æ®åˆ†æ API

**åŸºç¡€è·¯å¾„**: `/admin/analytics`

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/overview` | GET | è·å–æ¦‚è§ˆç»Ÿè®¡ |
| `/product-category` | GET | è·å–å•†å“åˆ†ç±»åˆ†å¸ƒ |
| `/top-products-favorite` | GET | è·å–çƒ­é—¨å•†å“ï¼ˆæ”¶è—ï¼‰ |
| `/top-products-view` | GET | è·å–çƒ­é—¨å•†å“ï¼ˆæµè§ˆï¼‰ |
| `/product-status` | GET | è·å–å•†å“çŠ¶æ€åˆ†å¸ƒ |
| `/comment-rating` | GET | è·å–è¯„è®ºè¯„åˆ†åˆ†å¸ƒ |

---

## å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ

1. **å‘½åè§„èŒƒ**
   - åç«¯ï¼šé©¼å³°å‘½åæ³•
   - å‰ç«¯ï¼šé©¼å³°å‘½åæ³•
   - æ•°æ®åº“ï¼šä¸‹åˆ’çº¿å‘½åæ³•

2. **æ³¨é‡Šè§„èŒƒ**
   - ç±»æ³¨é‡Šï¼šè¯´æ˜ç±»çš„ç”¨é€”
   - æ–¹æ³•æ³¨é‡Šï¼šè¯´æ˜å‚æ•°ã€è¿”å›å€¼ã€åŠŸèƒ½
   - å…³é”®é€»è¾‘æ³¨é‡Š

3. **æ–‡ä»¶ç»„ç»‡**
   - æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡
   - åç«¯ï¼šcontrollerã€serviceã€mapperã€entity
   - å‰ç«¯ï¼šviewsã€apiã€componentsã€router

### Git è§„èŒƒ

**æäº¤ä¿¡æ¯æ ¼å¼**ï¼š
```
ç±»å‹: ç®€çŸ­æè¿°

è¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰
```

**ç±»å‹è¯´æ˜**ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `refactor`: é‡æ„
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `chore`: æ„å»º/å·¥å…·å˜åŠ¨

---

## å¾…å¼€å‘åŠŸèƒ½

1. **å•†å“ç®¡ç†å¢å¼º**
   - æ‰¹é‡å¯¼å…¥/å¯¼å‡º
   - å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
   - å¯Œæ–‡æœ¬ç¼–è¾‘å™¨

2. **è®¢å•ç®¡ç†**
   - è®¢å•åˆ—è¡¨
   - è®¢å•è¯¦æƒ…
   - è®¢å•çŠ¶æ€ç®¡ç†

3. **æ•°æ®åˆ†æå¢å¼º**
   - æ—¶é—´èŒƒå›´ç­›é€‰
   - å¯¼å‡ºæŠ¥è¡¨
   - æ›´å¤šç»´åº¦åˆ†æ

4. **ç³»ç»Ÿè®¾ç½®**
   - ç®¡ç†å‘˜ç®¡ç†
   - è§’è‰²æƒé™
   - ç³»ç»Ÿé…ç½®

---

## é¡¹ç›®éƒ¨ç½²

### åç«¯éƒ¨ç½²

1. æ‰“åŒ…é¡¹ç›®
```bash
mvn clean package
```

2. è¿è¡Œ jar åŒ…
```bash
java -jar target/textile-backend.jar
```

### å‰ç«¯éƒ¨ç½²

1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

2. éƒ¨ç½² dist ç›®å½•åˆ°æœåŠ¡å™¨

---

## å¸¸è§é—®é¢˜

### Q1: åˆ é™¤åŠŸèƒ½ä¸ç”Ÿæ•ˆï¼Ÿ
**A**: æ£€æŸ¥å®ä½“ç±»æ˜¯å¦æœ‰ `@TableLogic` æ³¨è§£ï¼Œç¡®ä¿ä½¿ç”¨ `deleteById()` æ–¹æ³•è€Œä¸æ˜¯æ‰‹åŠ¨è®¾ç½® deleted å­—æ®µã€‚

### Q2: å›¾è¡¨ä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥ï¼š
1. ECharts æ˜¯å¦æ­£ç¡®å®‰è£…
2. å›¾è¡¨å®¹å™¨æ˜¯å¦æœ‰é«˜åº¦
3. æ•°æ®æ˜¯å¦æ­£ç¡®åŠ è½½
4. æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Q3: è·¨åŸŸé—®é¢˜ï¼Ÿ
**A**: ç¡®ä¿åç«¯é…ç½®äº† CORSï¼Œå…è®¸å‰ç«¯åŸŸåè®¿é—®ã€‚

---

## æ›´æ–°æ—¥å¿—

### 2026-01-05
- âœ… å®ç°è¯„è®ºç®¡ç†åˆ é™¤åŠŸèƒ½ä¿®å¤
- âœ… å®ç°æ”¶è—ç®¡ç†æ¨¡å—ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰
- âœ… ä¼˜åŒ–åˆ—è¡¨å±•ç¤ºï¼ˆç§»é™¤ä¸å¿…è¦çš„åˆ—ï¼‰
- âœ… å®ç°ç”¨æˆ·ç®¡ç†æ¨¡å—
- âœ… å®ç°æ•°æ®åˆ†ææ¨¡å—ï¼ˆECharts å¯è§†åŒ–ï¼‰
- âœ… ä¿®å¤æ”¶è—ç®¡ç†å­—æ®µæ˜ å°„é—®é¢˜

---

## é¡¹ç›®æ–‡ä»¶ç»“æ„

```
miniprogram-3-backend/
â”œâ”€â”€ src/main/java/com/songjia/textile/
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ AdminCommentController.java
â”‚   â”‚   â”œâ”€â”€ AdminFavoriteController.java
â”‚   â”‚   â”œâ”€â”€ AdminUserController.java
â”‚   â”‚   â””â”€â”€ AdminAnalyticsController.java
â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”œâ”€â”€ Comment.java
â”‚   â”‚   â”œâ”€â”€ Favorite.java
â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”œâ”€â”€ Product.java
â”‚   â”‚   â””â”€â”€ Banner.java
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â”œâ”€â”€ CommentMapper.java
â”‚   â”‚   â”œâ”€â”€ FavoriteMapper.java
â”‚   â”‚   â”œâ”€â”€ UserMapper.java
â”‚   â”‚   â”œâ”€â”€ ProductMapper.java
â”‚   â”‚   â””â”€â”€ BannerMapper.java
â”‚   â””â”€â”€ common/
â”‚       â””â”€â”€ Result.java

admin-panel/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ comment.js
â”‚   â”‚   â”œâ”€â”€ favorite.js
â”‚   â”‚   â”œâ”€â”€ user.js
â”‚   â”‚   â””â”€â”€ analytics.js
â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”œâ”€â”€ comment/
â”‚   â”‚   â”‚   â””â”€â”€ CommentList.vue
â”‚   â”‚   â”œâ”€â”€ favorite/
â”‚   â”‚   â”‚   â””â”€â”€ FavoriteList.vue
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â””â”€â”€ UserList.vue
â”‚   â”‚   â”œâ”€â”€ Analytics.vue
â”‚   â”‚   â””â”€â”€ Layout.vue
â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â””â”€â”€ store/
â”‚       â””â”€â”€ user.js
â””â”€â”€ package.json
```

---

## æ€»ç»“

æœ¬æ¬¡å¯¹è¯å®Œæˆäº†ç®¡ç†åå°çš„æ ¸å¿ƒåŠŸèƒ½æ¨¡å—å¼€å‘ï¼ŒåŒ…æ‹¬è¯„è®ºç®¡ç†ã€æ”¶è—ç®¡ç†ã€ç”¨æˆ·ç®¡ç†å’Œæ•°æ®åˆ†æã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œä½¿ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œå®ç°äº†ç¾è§‚ã€æ˜“ç”¨çš„ç®¡ç†ç•Œé¢ã€‚æ‰€æœ‰åŠŸèƒ½å‡å·²æµ‹è¯•é€šè¿‡ï¼Œå¯ä»¥æŠ•å…¥ä½¿ç”¨ã€‚
